<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Editor.js</title>
<!--    // редактор -->
    <script src="https://cdn.jsdelivr.net/npm/@editorjs/editorjs@latest"></script>
<!--    // плагіни -->
    <script src="https://cdn.jsdelivr.net/npm/@editorjs/header@latest"></script>
    <script src="https://cdn.jsdelivr.net/npm/@editorjs/simple-image"></script>
<!--    <script src="https://cdn.jsdelivr.net/npm/@editorjs/image@latest"/>-->
<!--    <script src="https://cdn.jsdelivr.net/npm/@editorjs/image@2.8.1/dist/image.min.js"></script>-->
<!--    <script src="https://cdn.jsdelivr.net/npm/@editorjs/list@latest"></script>-->
<!--    <script src="https://cdn.jsdelivr.net/npm/@editorjs/checklist@latest"></script>-->
<!--    <script src="https://cdn.jsdelivr.net/npm/@editorjs/code@latest"></script>-->
<!--    <script src="https://cdn.jsdelivr.net/npm/@editorjs/table@latest"></script>-->
<!--    <script src="https://cdn.jsdelivr.net/npm/@editorjs/quote@2.7.6/dist/quote.umd.min.js"></script>-->
<!--    <script src="https://cdn.jsdelivr.net/npm/@calumk/editorjs-columns@latest"></script>-->

    <!--    <script src="https://cdn.jsdelivr.net/npm/@editorjs/editorjs@latest"></script>-->
    <!--    <script src="https://cdn.jsdelivr.net/npm/@editorjs/header@latest"></script>-->
    <!--    <script src="https://cdn.jsdelivr.net/npm/@editorjs/image@2.8.1/dist/image.min.js"></script>-->

</head>
<body>

<h2>Створити пост</h2>
<a href="/blockeditor/posts">← Назад до списку</a>
<div id="postContent" th:text="${postContentJson}" hidden></div>

<form method="post" th:action="@{/blockeditor/save}" th:object="${post}">
    <button type="submit">Зберегти</button>
    <div id="editorjs"></div>
    <input type="hidden" name="content" id="editorContent"/>

</form>

<script>


    const savedData = JSON.parse(document.getElementById("postContent").innerText);
    const editor = new EditorJS({
        holder: 'editorjs',
        autofocus: true,
        tools: {
            header: {
              class: Header,
              inlineToolbar: ['marker', 'link'],
              config: {
                placeholder: 'Header'
              },
              shortcut: 'CMD+SHIFT+H'
              //inlineToolbar : true
            },
            image: SimpleImage,
        },
        onChange: async () => {
            const output = await editor.save();
            document.getElementById('editorContent').value = JSON.stringify(output);
        },

    });
</script>

</body>
</html>