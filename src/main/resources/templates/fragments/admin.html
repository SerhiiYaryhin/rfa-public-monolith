<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Admin Fragments</title>
</head>
<body>

<div th:fragment="listpostcontrol">
    <table class="table">
        <thead>
        <tr>
            <th scope="col">Заголовок</th>
            <th scope="col">Автор</th>
            <th scope="col">Статус</th>
            <th scope="col">Створено</th>
            <th scope="col">Опубліковано</th>
<!--            <th scope="col">Дії</th>-->
        </tr>
        </thead>
        <tbody>
        <a class="btn btn-primary" th:href="@{'/creater/editpost/'+${0}}">Створити пост</a>
        <tr th:each="post : ${posts}">
            <td><span th:text="${post.posttitle}"></span><br>
                <a class="btn btn-primary" th:href="@{'/admin/publishpost/'+${post.id} }">Опублікувати</a>
                <a class="btn btn-primary" th:href="@{'/admin/editpost/'+${post.id} }">Редагувати</a>
                <a class="btn btn-primary" th:href="@{'/admin/rejectpost/'+${post.id} }">Відхилити</a>
                <a class="btn btn-primary" th:href="@{'/admin/delpost/'+${post.id} }">Видалити</a>
            </td>
            <td><span th:text="${post.clientdetail.custname}+' '+${post.clientdetail.custsurname}">Автор</span></td>
            <td><span  th:text="${post.postStatus.label}" >Статус</span></td>
            <td><span  th:text="${#dates.format(post.createdate, 'dd-MM-yyyy HH:mm')}" >Створено</span></td>
            <td><span  th:text="${#dates.format(post.publishdate, 'dd-MM-yyyy HH:mm')}" >Опубліковано</span></td>
        </tr>
        </tbody>
    </table>
</div>

<div th:fragment="listusercontrol">

        <a class="btn btn-primary" th:href="@{'/creater/editpost/'+${0}}">Новий</a>
        <div th:each="user : ${usersList}">
            <span th:utext="${user.id}+' '+${user.clientdetail.custname}+' '+${user.clientdetail.custsurname}+' '+${user.email}+'
            <br> '+${user.clientdetail.firmname}"/><br>
            <span th:utext="' Створення:'+${#dates.format(user.clientdetail.createdate, 'dd-MM-yyyy')}
                +' Погодження:'+${#dates.format(user.clientdetail.confirmDate, 'dd-MM-yyyy')}
                +' UUID:'+${user.clientdetail.uuid}"/>
            <br>
            <a class="btn btn-primary" th:href="@{'/admin/enableuser/'+${user.id} }">Дозволити</a>
            <a class="btn btn-primary" th:href="@{'/admin/rejectuser/'+${user.id} }">Відхилити</a>
            <a class="btn btn-primary" th:href="@{'/admin/apruveinfouser/'+${user.id} }">Підтвердити інформацію</a>
            <a class="btn btn-primary" th:href="@{'/admin/lockuser/'+${user.id} }">Блокувати</a>


        </div>

</div>

<div th:fragment="listuserdocuments">

    <a class="btn btn-primary" th:href="@{'/creater/editpost/'+${0}}">Новий</a>
    <div th:each="cd : ${clientdetailList}">
            <b>
                <span th:text="${cd.custname}+' '+${cd.custsurname}+' | '+${cd.user.email}"/>
                <span th:utext="${cd.firmname != null} ? '<br>'+${cd.firmname}"/>
            </b>
        <div style="padding-left:3rem;" th:each="document : ${cd.documentslist}">
            <span th:text="' Створення: '+${#dates.format(document.loaddate, 'dd-MM-yyyy')} + ' Статус: '+${document.status.label}"/>
<!--            <br>-->
<!--            <a class="btn btn-primary padding_button" th:href="@{'/admin/enableuser/'+${cd.user.id} }">Дозволити</a>-->
<!--            <a class="btn btn-primary padding_button" th:href="@{'/admin/rejectuser/'+${cd.user.id} }">Відхилити</a>-->
<!--            <a class="btn btn-primary padding_button" th:href="@{'/admin/apruveinfouser/'+${cd.user.id} }">Підтвердити інформацію</a>-->
<!--            <a class="btn btn-primary padding_button" th:href="@{'/admin/lockuser/'+${cd.user.id} }">Блокувати</a>-->
        </div>

    </div>

</div>
</body>
</html>