<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<div th:fragment="service">
    <div class="container-fluid">
        <div class="row text-center">
            <div class="col align-center">
                <div class="card">
                    <div class="card-header"><h3>Альбоми</h3></div>
                    <div class="card-body">
                        <span class="fa-stack fa-2x">
                            <i class="fas fa-circle fa-stack-2x text-primary"></i>
                            <i class="fas fa-radio fa-stack-1x fa-inverse"></i>
                        </span>
                    </div>
                    <div class="card-footer text-muted">
                        <a class="btn btn-primary" href="/creater/albums">Керувати</a>
                    </div>
                </div>
            </div>
            <div class="col align-center">
                <div class="card">
                    <div class="card-header"><h3>Треки</h3></div>
                    <div class="card-body">
                        <span class="fa-stack fa-2x">
                            <i class="fas fa-circle fa-stack-2x text-primary"></i>
                            <i class="fas fa-radio fa-stack-1x fa-inverse"></i>
                        </span>
                    </div>
                    <div class="card-footer text-muted">
                        <a class="btn btn-primary" href="/creater/tracks">Керувати</a>
                    </div>
                </div>
            </div>
            <div class="col align-center">
                <div class="card">
                    <div class="card-header">
                        <h3>Файли</h3>
                    </div>
                    <div class="card-body">
                    <span class="fa-stack fa-2x">
                        <i class="fas fa-circle fa-stack-2x text-primary"></i>
                        <i class="fas fa-comments fa-stack-1x fa-inverse"></i>
                    </span>
                    </div>
                    <div class="card-footer text-muted">
                        <a class="btn btn-primary" href="/creater/store/0">Сховище</a>
                    </div>
                </div>
            </div>
            <div class="col align-center">
                <div class="card">
                    <div class="card-header">
                        <h3>Пости</h3>
                    </div>
                    <div class="card-body">
                        <span class="fa-stack fa-2x">
                            <i class="fas fa-circle fa-stack-2x text-primary"></i>
                            <i class="fas fa-comments fa-stack-1x fa-inverse"></i>
                        </span>
                    </div>
                    <div class="card-footer text-muted">
                        <a class="btn btn-primary" href="/creater/posts">Керувати</a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<div th:fragment="listtrack">
    <table class="table">
        <thead>
        <tr>
            <th scope="col">Назва треку</th>
            <th scope="col">Ім'я файлу</th>
            <th scope="col">Дія</th>
        </tr>
        </thead>
        <tbody>
        <a class="btn btn-primary" href="/creator/uploadtrack">Завантажити трек</a>
        <tr th:each="track : ${trackList}">
            <td><span th:text="${track.name}"></span></td>
            <td><span th:text="${track.patch}"></span></td>
            <td><a class="btn btn-primary" th:href="@{/creater/edittrack(id=${track.id})}">Редагувати</a></td>
        </tr>
        </tbody>
    </table>
</div>

<div th:fragment="listalbum">
    <table class="table">
        <thead>
        <tr>
            <th scope="col">Назва альбому</th>
            <th scope="col">Дія</th>
        </tr>
        </thead>
        <tbody>
        <a class="btn btn-primary" href="/creater/editalbum/0">Створити альбом</a>
        <tr th:each="album : ${albumList}">
            <td><span th:text="${album.name}"></span></td>
            <td>
                <a class="badge rounded-pill bg-primary" th:href="@{'/creater/editalbum/' + ${album.id}}">Редагувати</a>
                <a class="badge rounded-pill bg-primary" th:href="@{'/creater/setalbumcover/' + ${album.id}}">Обрати обкладинку</a>
            </td>
        </tr>
        </tbody>
    </table>
</div>

<div th:fragment="listpost">
    <table class="table">
        <thead>
        <tr>
            <th scope="col">Заголовок</th>
            <th scope="col">Редагувати</th>
        </tr>
        </thead>
        <tbody>
        <a class="btn btn-primary" th:href="@{'/creater/editpost/'+${0}}">Створити пост</a>
        <tr th:each="post : ${posts}">
            <td><span th:text="${post.posttitle}"></span></td>
            <td><a class="badge rounded-pill bg-primary" th:href="@{'/creater/editpost/'+${post.id} }">Редагувати</a></td>
        </tr>
        </tbody>
    </table>
</div>

<div th:fragment="listpostcontrol">
    <table class="table">
        <thead>
        <tr>
            <th scope="col">Заголовок</th>
<!--            <th scope="col">Статус</th>-->
<!--            <th scope="col">Створено</th>-->
        </tr>
        </thead>
        <tbody>
        <a class="btn btn-primary" th:href="@{'/creater/editpost/'+${0}}">Створити пост</a>
        <tr th:each="post : ${posts}">
            <td>
                <span th:text="${post.posttitle}"></span><br>
                <a class="badge rounded-pill bg-primary" th:href="@{'/creater/publishpost/'+${post.id} }">Опублікувати</a>
                <a class="badge rounded-pill bg-primary" th:href="@{'/creater/editpost/'+${post.id} }">Редагувати</a>
                <a class="badge rounded-pill bg-primary" th:href="@{'/creater/delpost/'+${post.id} }">Видалити</a>
                <span th:text="${'Створено: '+#dates.format(post.createdate, 'dd-MM-yyyy HH:mm:ss')}"></span>
<!--                <span th:text="Статус: "></span>-->
            </td>
<!--            <td><span>Статус</span></td>-->
<!--            <td>-->

<!--            </td>-->
        </tr>
        </tbody>
    </table>
</div>

<div th:fragment="listtracs">
    <a class="btn btn-primary" th:href="@{/creator/trackupload}">Завантажити треки</a>
    <div th:insert="~{/fragments/common :: pagingline}"/>
    <table class="table table-striped table-hover">
        <thead>
        <tr>
            <th scope="col">Слухати</th>
            <th scope="col">Назва</th>
            <th scope="col">Файл</th>
            <th scope="col">Альбом</th>
            <th scope="col">Дія</th>
        </tr>
        </thead>
        <tbody>
        <tr th:each="storetrack : ${storetrackList}">
            <td>
                <audio th:id="'voice'+${storetrack.uuid}" controls>
                    <source th:src="'/store/audio/'+${storetrack.uuid}">
                </audio>
            </td>
            <td>
                <span th:text="${storetrack.filename}"></span>
            </td>
            <td>
                <!-- todo Передбачити вивід, коли немає альбому -->
            </td>
            <td><a class="btn btn-primary" th:href="@{'/creater/edittrack/'+${storetrack.uuid} }">Редагувати</a></td>
        </tr>
        </tbody>
    </table>
    <div th:insert="~{/fragments/common :: pagingline}"/>
</div>

<div th:fragment="telegramtoken" >
    <div th:if="${clientdetail.telegramuser} == null">
        <div class="row text-center" style="padding-top: 20px">
            <div class="col align-center">
                <div th:if="${clientdetail.telegramuser} == null">
                    Ви ще не зʼєднані з Телеграмом.<br>
                    <div th:if="!${createrService.checkTelegramTooken()}">
                        <a th:href="@{'/creater/createtelegramtoken/'+${clientdetail.uuid}}">
<!--                        <a th:href="@{'/creater/createtelegramtoken/'+${createrService.getTelegramToken()}}">-->
                            <button type="button" class="btn btn-primary">Приєднати Телеграм</button>
                        </a>
                    </div>
                    <div th:if="${createrService.checkTelegramTooken()}">
                        скопіюйте цей токен для того, щоб привʼязати свій аккаунт до телеграму:<br>
                        <b><span th:text="${createrService.getTelegramToken()}"></span></b><br>
                        Перейдіть до <a href="https://t.me/TolokaMediaBot" target="_blank">Телеграму</a> за цим посиланням, натисніть кнопку "Привʼязати Телеграм", вставте скопійований токен та надішліть. Вам прийде лист з посиланням на встановлення паролю. Виконайте вказані в ньому інструкції.
                    </div>
                </div>
            </div>
        </div>


    </div>
</div>
</body>
</html>