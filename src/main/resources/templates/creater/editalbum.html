<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="https://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity6"
>
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Толока - радіо для всіх!</title>
    <link th:rel="stylesheet" th:href="@{/css/bootstrap.min.css} "/>
    <link th:rel="stylesheet" th:href="@{/css/dropzone.min.css}"/>
    <link th:rel="stylesheet" th:href="@{/css/toastr.min.css}"/>
    <!-- Favicon-->
    <link rel="icon" type="image/x-icon" href="/assets/favicon.ico" />
    <!-- Font Awesome icons (free version)-->
    <script src="https://use.fontawesome.com/releases/v6.3.0/js/all.js" crossorigin="anonymous"></script>
    <!-- Google fonts-->
    <link href="https://fonts.googleapis.com/css?family=Montserrat:400,700" rel="stylesheet" type="text/css" />
    <link href="https://fonts.googleapis.com/css?family=Roboto+Slab:400,100,300,700" rel="stylesheet" type="text/css" />
    <!-- Core theme CSS (includes Bootstrap)-->
    <link href="/css/bootstrap.min.css"  rel="stylesheet" />
    <!--    <link href="/css/infoblock.css"  rel="stylesheet" />-->
    <!--    TinyMCE-->
    <script src="https://cdn.tiny.cloud/1/jfs2v9uma7vkxn632w42djz02jxqivtjdlovkkqzafgboa10/tinymce/6/tinymce.min.js" referrerpolicy="origin"></script>

</head>
<body>

<header>
    <div th:insert="~{/fragments/navbar :: mynavbar}">  </div>
</header>

<!--// User page container-->
<div style="padding-top: 100px">
    <!-- Services   -->
    <div class="container-fluid">
        <div class="row">
            <div class="col-lg-12 col-sm-12">
                <div th:insert="~{/fragments/creater :: service}"> </div>
            </div>
        </div>
    </div>

    <div class="container-fluid">
        <div class="row">
            <div class="col-lg-6 col-sm-6">
                <div id="dropzone">
                    <form action="/creater/albumcoverupload" class="dropzone needsclick" id="demo-upload" method="post">
                        <input type="hidden"
                               th:name="${_csrf.parameterName}"
                               th:value="${_csrf.token}" />
                        <div class="dz-message needsclick">

                            <div class="dz-message needsclick">
                                <button type="button" class="dz-button">Перенсіть обкладинку сюди або натисніть для вибору.</button>
                                <br/>
                            </div>
                    </form>
                </div>
                <form th:action="@{/creater/editalbum}"  method="post" th:object="${album}">
<!--                <form th:action="@{/creater/editalbum}"  method="post" th:object="${album}" class="form-horizontal">-->
                    <fieldset>
                        <legend>Ваш альбом</legend>
                        <img src="https://picsum.photos/400/300" class="img-thumbnail">

                        <!-- Button trigger modal -->
                        <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#staticChoice">
                            Обрати обкладинку
                        </button>
                        <!-- Modal choice cover -->
                        <div class="modal fade" id="staticChoice" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
                            <div class="modal-dialog">
                                <div class="modal-content">
                                    <div class="modal-header">
                                        <h5 class="modal-title" id="staticBackdropLabel">Обкладинки</h5>
                                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                                    </div>
                                    <div class="modal-body">
                                        Дуже скоро тут зʼявится можливість вибрати обкладинку з Вашого сховища.<br>Слідкуйте за новинами на порталі!
                                    </div>
                                    <div class="modal-footer">
                                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Повернутися</button>
                                        <button type="button" class="btn btn-primary">Обрати</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!-- Modal load cover -->
                        <input type="hidden" th:field="*{id}"/>
                        <div class="form-group">
                            <label class="col-md-4 control-label" for="autor">Виконавець</label>
                            <div class="col-md-5">
                                <input th:field="*{autor}" type="text" class="form-control input-md">
                            </div>
                        </div>

                        <div class="form-group">
                            <label class="col-md-4 control-label" for="name">Назва Альбому</label>
                            <div class="col-md-5">
                                <input th:field="*{name}" type="text" class="form-control input-md">
                            </div>
                        </div>

                        <div class="form-group">
                            <label class="col-md-4 control-label" for="albumrelisedate">Дата релізу</label>
                            <div class="col-md-5">
                                <input th:field="*{albumrelisedate}" type="text" class="form-control input-md">
                            </div>
                        </div>

                        <!-- Text input-->
                        <div class="form-group">
                            <label class="col-md-4 control-label" for="style">Стиль</label>
                            <div class="col-md-5">
                                <input th:field="*{style}" type="text" placeholder="Стиль треку" class="form-control input-md">
                            </div>
                        </div>

                        <!-- Textarea -->
                        <div class="form-group">
                            <label class="col-md-4 control-label" for="description">Опис альбому</label>
                            <div class="col">
                                <!--                            <div class="col-md-6">-->
                                <script>
                                    tinymce.init({
                                      selector: 'textarea',
                                      plugins: 'ai tinycomments mentions anchor autolink charmap codesample emoticons image link lists media searchreplace table visualblocks wordcount checklist mediaembed casechange export formatpainter pageembed permanentpen footnotes advtemplate advtable advcode editimage tableofcontents mergetags powerpaste tinymcespellchecker autocorrect a11ychecker typography inlinecss',
                                      toolbar: 'undo redo | blocks fontfamily fontsize | bold italic underline strikethrough | link image media table mergetags | align lineheight | tinycomments | checklist numlist bullist indent outdent | emoticons charmap | removeformat',
                                      tinycomments_mode: 'embedded',
                                      tinycomments_author: 'Author name',
                                      mergetags_list: [
                                        { value: 'First.Name', title: 'First Name' },
                                        { value: 'Email', title: 'Email' },
                                      ],
                                      ai_request: (request, respondWith) => respondWith.string(() => Promise.reject("See docs to implement AI Assistant")),
                                    });
                                </script>
                                <textarea th:field="*{description}"/>
                            </div>
                        </div>


                        <div class="form-group">
                            <div class="col-md-8">
                                <button type="submit"  class="btn btn-primary">Зберегти</button><span>   </span><a class="btn btn-primary" th:href="@{/creater/albums}">Повернутися</a>
                            </div>
                        </div>
                    </fieldset>
                </form>

            </div>
            <div class="col-lg-6 col-sm-6">
                <div class="row"><h2>Треки в альбомі</h2></div>
                <div class="row" th:each="track : ${trackList}">
                    <div class="col">
                        <span th:text="${track.name}"/>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>




<script th:src="@{/js/jquery.min.js}"></script>
<script th:src="@{/js/popper.js}"></script>
<!--<script th:src="@{/webjars/bootstrap/js/bootstrap.min.js}"></script>-->
<script src="/js/bootstrap.bundle.min.js"></script>

<script th:src="@{/js/dropzone.min.js}"></script>
<script th:src="@{/js/toastr.min.js}"></script>

<script>
    Dropzone.autoDiscover = false;

    $("#demo-upload").dropzone({
        success : function(file, response) {
            toastr.success('File ' + file.name + ' uploaded successfully');
        }
    });
</script>
</body>
</html>